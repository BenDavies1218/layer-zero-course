<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400">
  <!-- Define styles -->
  <defs>
    <style>
      .chain-label { font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; fill: #2c3e50; }
      .box { fill: #3498db; stroke: #2c3e50; stroke-width: 2; }
      .box-text { font-family: Arial, sans-serif; font-size: 14px; fill: white; text-anchor: middle; }
      .arrow { stroke: #e74c3c; stroke-width: 2.5; fill: none; marker-end: url(#arrowhead); }
      .arrow-label { font-family: Arial, sans-serif; font-size: 12px; fill: #c0392b; font-weight: 500; }
      .step-num { font-family: Arial, sans-serif; font-size: 11px; fill: white; text-anchor: middle; font-weight: bold; }
    </style>

    <!-- Arrow marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#e74c3c" />
    </marker>
  </defs>

  <!-- Title -->
  <text x="400" y="30" style="font-family: Arial; font-size: 18px; font-weight: bold; fill: #86929eff; text-anchor: middle;">ABA Pattern (Ping-Pong)</text>

  <!-- Chain Labels -->
  <text x="150" y="70" class="chain-label" style="fill: #86929eff;">Chain A</text>
  <text x="650" y="70" class="chain-label" style="fill: #86929eff;">Chain B</text>

  <!-- Chain A OApp -->
  <rect x="80" y="100" width="140" height="60" rx="5" class="box"/>
  <text x="150" y="135" class="box-text">OApp A</text>

  <!-- Chain B OApp -->
  <rect x="580" y="100" width="140" height="60" rx="5" class="box"/>
  <text x="650" y="135" class="box-text">OApp B</text>

  <!-- Step 1: Initial Message A -> B -->
  <path d="M 220 130 L 580 130" class="arrow"/>
  <text x="400" y="120" class="arrow-label" text-anchor="middle">1. sendString("ping")</text>
  <circle cx="220" cy="130" r="14" fill="#e74c3c"/>
  <text x="220" y="135" class="step-num">1</text>

  <!-- Chain A OApp (second position) -->
  <rect x="80" y="220" width="140" height="60" rx="5" class="box"/>
  <text x="150" y="255" class="box-text">OApp A</text>

  <!-- Chain B OApp (second position) -->
  <rect x="580" y="220" width="140" height="60" rx="5" class="box"/>
  <text x="650" y="255" class="box-text">OApp B</text>

  <!-- Step 2: Process and Respond B -> A -->
  <path d="M 580 250 L 220 250" class="arrow"/>
  <text x="400" y="240" class="arrow-label" text-anchor="middle">2. _lzReceive() → sendString("pong")</text>
  <circle cx="580" cy="250" r="14" fill="#e74c3c"/>
  <text x="580" y="255" class="step-num">2</text>

  <!-- Info Box -->
  <g transform="translate(50, 330)">
    <text x="0" y="0" style="font-family: Arial; font-size: 13px; fill: #86929eff; font-weight: bold;">Pattern: A → B → A</text>
    <text x="0" y="18" style="font-family: Arial; font-size: 11px; fill: #86929eff;">Chain A initiates, Chain B responds back to Chain A</text>
    <text x="0" y="33" style="font-family: Arial; font-size: 11px; fill: #86929eff;">Use case: Request-response, acknowledgments, bidirectional state sync</text>
  </g>
</svg>
